project_name: trails

root_dir: ../root

plugins_dir:
- ../.installed_plugins
- ../plugins

pipes:

- connector: "sql:bwg"
  metric: "trails"
  location: "approved"
  instance: "sql:trails"
  parameters:
    columns:
      datetime: "id"
      primary: "id"
    dtypes:
      id: "int"
      geometry: "geometry[LineString,3361]"
    sql: |-
      SELECT
        "id",
        "STATUS" AS "status",
        "TRAIL_NAM" AS "trail_name",
        "TRAIL_TYPE" AS "trail_type",
        "notes",
        "geometry"
      FROM "city"."ApprovedTrails"

config:
  meerschaum:
    instance: sql:bwg
    connectors:
      sql:
        bwg: MRSM{meerschaum:connectors:sql:bwg}
        trails:
          flavor: geopackage
          database: '{MRSM_ROOT_DIR}/../data/output/trails.gpkg'
  plugins:
    bwg:
      data_path: '{MRSM_ROOT_DIR}/../data'
